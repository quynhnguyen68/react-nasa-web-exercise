(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,a){},38:function(e,t,a){},42:function(e,t,a){e.exports=a(78)},51:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a.n(n),r=a(22),s=a.n(r),c=a(24),o=(a(51),a(10)),l=a.n(o),u=a(19),m=a(21),d=a.n(m);function p(e){return d.a.get("search?q=".concat(e)).then(function(e){return{response:e}}).catch(function(e){return{error:e}})}var h="UI_SA_GET_ITEMS_LIST",v=a(15),g=(a(70),a(41)),b=Object(v.c)({items:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SA_RE_SAVE_ITEMS_LIST":return t.items;case"UI_RE_TOGGLE_FAVOURITE_ITEM":case"UI_RE_REMOVE_ITEM":case"UI_RE_EDIT_ITEM":return e;case h:case"UI_RE_RESET_ITEMS_LIST":return[];default:return e}}}),f=[],E=Object(g.a)();f.push(E);var _=Object(v.e)(b,v.a.apply(void 0,f)),C=function(e){return{type:"SA_RE_SAVE_ITEMS_LIST",items:e}},O=l.a.mark(y),j=l.a.mark(k);function y(e){var t,a,n;return l.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(u.b)(p,e.query);case 2:t=i.sent,a=t.response,n=t.error,a&&(e.callback(null),_.dispatch(C(a.data.collection.items)),localStorage.setItem("items",JSON.stringify(a.data.collection.items))),n&&e.callback("Error");case 7:case"end":return i.stop()}},O)}function k(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.d)(h,y);case 2:case"end":return e.stop()}},j)}var I=l.a.mark(S);function S(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.a)([Object(u.c)(k)]);case 2:case"end":return e.stop()}},I)}var N=a(40),T=a(6),x=a(7),D=a(13),w=a(11),P=a(4),U=a(12),R=a(20),A=(a(38),a(9)),F=(a(18),function(e){var t=e.imgClassName,a=Object(A.a)(e,["imgClassName"]);return i.a.createElement("img",Object.assign({className:"image ".concat(t)},a,{alt:""}))});F.defaultProps={imgClassName:""};var M=F,V=(a(71),function(e){var t=e.onClick,a=e.btnClassName,n=e.children,r=e.imageUrl,s=Object(A.a)(e,["onClick","btnClassName","children","imageUrl"]);return i.a.createElement("button",Object.assign({className:"button ".concat(a),onClick:t},s),r&&i.a.createElement("img",{src:r,alt:""}),n)});V.defaultProps={btnClassName:"",imageUrl:"",onClick:function(){}};var K=V,L=function(e){var t=e.inputClassName,a=e.onChange,n=e.onKeyDown,r=Object(A.a)(e,["inputClassName","onChange","onKeyDown"]);return i.a.createElement("input",Object.assign({className:"text-input ".concat(t),onChange:a,onKeyDown:n},r))};L.defaultProps={inputClassName:"",onChange:function(){},onKeyDown:function(){}};var G=L,J=(a(72),function(e){var t=e.loaderClassName;return i.a.createElement("div",{className:"loader ".concat(t)})}),Y=(a(73),function(e){var t=e.isVisible,a=e.children,n=e.popupClassName,r=Object(A.a)(e,["isVisible","children","popupClassName"]);return i.a.createElement("div",Object.assign({className:t?"popup ".concat(n):"invisible"},r),a)});Y.defaultProps={isVisible:!1};var q=Y,B=function(e){var t=e.inputClassName,a=e.onChange,n=e.onKeyDown,r=Object(A.a)(e,["inputClassName","onChange","onKeyDown"]);return i.a.createElement("textarea",Object.assign({className:"text-input ".concat(t),onChange:a,onKeyDown:n},r))};B.defaultProps={inputClassName:"",onChange:function(){},onKeyDown:function(){}};var W=B,z={Image:{DefaultImage:"/images/default_image.png",Edit:"/icon/edit.png",Delete:"/icon/delete.png",ActiveFavourite:"/icon/active_favourite.png",Favourite:"/icon/favourite.png",Search:"/icon/search.png",Save:"/icon/save.png",Close:"/icon/close.png"}},$=function(){function e(){Object(T.a)(this,e)}return Object(x.a)(e,null,[{key:"isString",value:function(e){return"string"===typeof e||e instanceof String}},{key:"isStringAndNotEmpty",value:function(t){return!(!t||!e.isString(t))}},{key:"getDateFormat",value:function(e){var t=new Date(e);return["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"][t.getMonth()]+"-"+t.getDate()+"-"+t.getFullYear()}}]),e}(),H=function(){function e(){Object(T.a)(this,e)}return Object(x.a)(e,null,[{key:"isAvailableUrl",value:function(e){return $.isStringAndNotEmpty(e)?e:z.Image.DefaultImage}}]),e}(),Q=(a(74),function(e){function t(e){var a;return Object(T.a)(this,t),(a=Object(D.a)(this,Object(w.a)(t).call(this,e)))._toggleFavourite=a._toggleFavourite.bind(Object(P.a)(a)),a._onRemovePress=a._onRemovePress.bind(Object(P.a)(a)),a._onEditPress=a._onEditPress.bind(Object(P.a)(a)),a}return Object(U.a)(t,e),Object(x.a)(t,[{key:"_toggleFavourite",value:function(){var e=this.props.data,t=Object(R.a)({},e,{isFavourite:!e.isFavourite});Object.assign(e,t),_.dispatch({type:"UI_RE_TOGGLE_FAVOURITE_ITEM"}),this.forceUpdate()}},{key:"_onRemovePress",value:function(){var e=this.props,t=e.index;(0,e.onRemoveItem)(t)}},{key:"_onEditPress",value:function(){var e=this.props,t=e.data;(0,e.onEditItem)(t)}},{key:"render",value:function(){var e=this.props,t=e.data,a=e.index,n=t&&t.data&&t.data[0];return i.a.createElement("div",{className:"item-container",key:a.toString()},i.a.createElement("a",{href:t&&t.href,target:"_blank"},i.a.createElement(M,{src:H.isAvailableUrl(t&&t.links&&t.links[0].href),imgClassName:"shadow-item img-container",loading:"lazy"})),i.a.createElement("div",{className:"info-container"},i.a.createElement("p",null,n.center),i.a.createElement("p",null,$.getDateFormat(n.date_created))),i.a.createElement("h1",null,n.title),i.a.createElement("div",{className:"multiline-text txt-content"},n.description),i.a.createElement("div",{className:"button-container"},i.a.createElement(K,{imageUrl:t.isFavourite?z.Image.ActiveFavourite:z.Image.Favourite,onClick:this._toggleFavourite}),i.a.createElement(K,{imageUrl:z.Image.Edit,btnClassName:"button-edit",onClick:this._onEditPress}),i.a.createElement(K,{imageUrl:z.Image.Delete,onClick:this._onRemovePress})))}}]),t}(n.Component));Q.defaultTypes={image:"",onEditItem:function(){},onRemoveItem:function(){},isFavourite:!1,index:0};var X=Q,Z=(a(75),function(e){function t(e){var a;return Object(T.a)(this,t),(a=Object(D.a)(this,Object(w.a)(t).call(this,e))).state={searchKey:"",loading:!1},a._onTextChange=a._onTextChange.bind(Object(P.a)(a)),a._onPressSearch=a._onPressSearch.bind(Object(P.a)(a)),a._handleGetListCallback=a._handleGetListCallback.bind(Object(P.a)(a)),a}return Object(U.a)(t,e),Object(x.a)(t,[{key:"_onTextChange",value:function(e){this.setState({searchKey:e.target.value}),13===e.keyCode&&this._onPressSearch()}},{key:"_onPressSearch",value:function(){var e,t,a=this.state.searchKey;a&&(_.dispatch((e=a,t=this._handleGetListCallback,{type:h,query:e,callback:t})),this.setState({loading:!0}))}},{key:"_handleGetListCallback",value:function(e){this.setState({loading:!1})}},{key:"render",value:function(){var e=this.state.loading;return i.a.createElement("div",{className:"container"},i.a.createElement("h1",null,"NASA Collection"),i.a.createElement("div",{className:"search-container"},i.a.createElement(G,{name:"searchKey",inputClassName:"input",placeholder:"Enter something",onChange:this._onTextChange,onKeyDown:this._onTextChange}),i.a.createElement(K,{imageUrl:z.Image.Search,onClick:this._onPressSearch})),e&&i.a.createElement(J,{loaderClassName:"loader-container"}))}}]),t}(n.Component)),ee=(a(76),function(e){function t(){return Object(T.a)(this,t),Object(D.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(U.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.renderItem;return i.a.createElement("div",{className:"grid"},t.map(function(e,t){return a(e,t)}))}}]),t}(n.Component));ee.defaultTypes={data:[]};var te=ee,ae=(a(77),function(e){function t(e){var a;return Object(T.a)(this,t),(a=Object(D.a)(this,Object(w.a)(t).call(this,e))).state={isVisible:!1,selectedData:null,image:"",title:"",center:"",description:""},a._selectedData=null,a.open=a.open.bind(Object(P.a)(a)),a.close=a.close.bind(Object(P.a)(a)),a._onTextChange=a._onTextChange.bind(Object(P.a)(a)),a._onSavePress=a._onSavePress.bind(Object(P.a)(a)),a}return Object(U.a)(t,e),Object(x.a)(t,[{key:"open",value:function(e){this._selectedData=e;var t=e&&e.data&&e.data[0];this.setState({isVisible:!0,image:e&&e.links&&e.links[0].href,title:t&&t.title,center:t&&t.center,description:t&&t.description})}},{key:"close",value:function(){this._selectedData=null,this.setState({isVisible:!1,image:"",title:"",center:"",description:""})}},{key:"_onTextChange",value:function(e){var t=this.state;t[e.target.name]=e.target.value,this.setState(t)}},{key:"_onSavePress",value:function(){var e=this.state,t=e.image,a=e.title,n=e.center,i=e.description;if(this._selectedData){var r=Object(R.a)({},this._selectedData,{data:[Object(R.a)({},this._selectedData.data[0],{title:a,center:n,description:i})],links:[Object(R.a)({},this._selectedData.links[0],{href:t})]});Object.assign(this._selectedData,r),_.dispatch({type:"UI_RE_EDIT_ITEM"}),this.props.onYesPress(),this.close()}}},{key:"render",value:function(){var e=this.state,t=e.isVisible,a=e.image,n=e.title,r=e.center,s=e.description,c=e.error;return i.a.createElement(q,{popupClassName:"form-popup",isVisible:t},i.a.createElement("h2",null,"Edit item"),c&&i.a.createElement("p",null,"Please fill all fields"),i.a.createElement("div",{className:"input-container"},i.a.createElement("p",null,"Title"),i.a.createElement(G,{name:"title",inputClassName:"input-form",value:n,onChange:this._onTextChange,placeholder:"Enter title"})),i.a.createElement("div",{className:"input-container"},i.a.createElement("p",null,"Thumbnail image"),i.a.createElement(G,{name:"image",inputClassName:"input-form",value:a,onChange:this._onTextChange,placeholder:"Enter image url"})),i.a.createElement("div",{className:"input-container"},i.a.createElement("p",null,"Center name"),i.a.createElement(G,{type:"text",name:"center",inputClassName:"input-form",value:r,onChange:this._onTextChange,placeholder:"Enter center name"})),i.a.createElement("div",{className:"input-container"},i.a.createElement("p",null,"Description"),i.a.createElement(W,{name:"description",inputClassName:"input-form textarea-form",value:s,onChange:this._onTextChange,placeholder:"Enter description"})),i.a.createElement("div",{className:"button-container"},i.a.createElement(K,{imageUrl:z.Image.Save,btnClassName:"button-save",onClick:this._onSavePress},i.a.createElement("p",null,"Save")),i.a.createElement(K,{btnClassName:"button-close",imageUrl:z.Image.Close,onClick:this.close})))}}]),t}(n.Component));ae.defaultTypes={onYesPress:function(){}};var ne=ae,ie=function(e){function t(e){var a;return Object(T.a)(this,t),(a=Object(D.a)(this,Object(w.a)(t).call(this,e))).state={selectedData:{}},a._onStoreChange=a._onStoreChange.bind(Object(P.a)(a)),a._removeItem=a._removeItem.bind(Object(P.a)(a)),a._editItem=a._editItem.bind(Object(P.a)(a)),a.renderItem=a.renderItem.bind(Object(P.a)(a)),a.bootstrap(),a}return Object(U.a)(t,e),Object(x.a)(t,[{key:"componentDidMount",value:function(){d.a.defaults.baseURL="https://images-api.nasa.gov/",d.a.defaults.headers.post["Content-Type"]="application/json",d.a.defaults.timeout=1e4,console.log("Axios has been setup"),this.unsubscribe=_.subscribe(this._onStoreChange)}},{key:"bootstrap",value:function(){var e=Object(N.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("items");case 2:(t=e.sent)&&_.dispatch(C(JSON.parse(t)));case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.subscribe()}},{key:"_removeItem",value:function(e){var t=this.props.items;-1!==e&&(t.splice(e,1),_.dispatch({type:"UI_RE_REMOVE_ITEM"}),this.forceUpdate())}},{key:"_editItem",value:function(e){this.setState({selectedData:e}),this._editPopup.open(e)}},{key:"_onStoreChange",value:function(){var e=_.getState().items;e&&localStorage.setItem("items",JSON.stringify(e))}},{key:"renderItem",value:function(e,t){return i.a.createElement(X,{key:t.toString(),index:t,data:e,onRemoveItem:this._removeItem,onEditItem:this._editItem})}},{key:"render",value:function(){var e=this,t=this.props.items;return i.a.createElement("div",{className:"App"},i.a.createElement(Z,null),i.a.createElement(te,{data:t,renderItem:this.renderItem}),i.a.createElement(ne,{ref:function(t){e._editPopup=t},onYesPress:function(){return e.forceUpdate()}}))}}]),t}(n.Component),re=Object(c.b)(function(e){return{items:e.items}},{})(ie);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));E.run(S),s.a.render(i.a.createElement(c.a,{store:_},i.a.createElement(re,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[42,1,2]]]);
//# sourceMappingURL=main.92f416b8.chunk.js.map