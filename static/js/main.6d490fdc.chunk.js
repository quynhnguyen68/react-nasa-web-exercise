(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var a=n(9),r=n(0),o=n.n(r),i=(n(16),function(e){var t=e.imgClassName,n=Object(a.a)(e,["imgClassName"]);return o.a.createElement("img",Object.assign({className:"image ".concat(t)},n,{alt:""}))});i.defaultProps={imgClassName:"",src:""},t.default=i},43:function(e,t,n){"use strict";n.r(t);var a=n(3),r=n(4),o=n(6),i=n(5),c=n(7),s=n(0),l=n.n(s),u=(n(85),function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.data,n=e.renderItem;return l.a.createElement("div",{className:"grid"},t.map(function(e,t){return n(e,t)}))}}]),t}(s.Component));u.defaultTypes={data:[]},t.default=u},50:function(e,t,n){e.exports=n(93)},79:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){},88:function(e,t,n){},89:function(e,t,n){},90:function(e,t,n){},92:function(e,t,n){},93:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(26),i=n.n(o),c=n(3),s=n(4),l=n(6),u=n(5),p=n(7),m=n(22),d=n(19),h=(n(59),n(45)),f=n(13),b=function(){function e(){Object(c.a)(this,e)}return Object(s.a)(e,null,[{key:"isString",value:function(e){return"string"===typeof e||e instanceof String}},{key:"isStringAndNotEmpty",value:function(t){return!(!t||!e.isString(t))}},{key:"getDateFormat",value:function(e){if(!e)return"";var t=new Date(e);return["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"][t.getMonth()]+"-"+t.getDate()+"-"+t.getFullYear()}},{key:"checkAutoComplete",value:function(e,t){var n=t.split(" ");if(!t||1===n.length)return-1!==e.indexOf(n[0]);for(var a=n.length,r=-1!==e.indexOf(n[0]),o=1;o<a;o++)r=r&&-1!==e.indexOf(n[o]);return r}}]),e}(),v={Image:{DefaultImage:"images/default_image.png",Edit:"icon/edit.png",Delete:"icon/delete.png",ActiveFavorite:"icon/active_favorite.png",Favorite:"icon/favorite.png",Search:"icon/search.png",Save:"icon/save.png",Close:"icon/close.png",Consider:"icon/consider.png",Happy:"icon/happy.png",Add:"icon/add.png",AddWhite:"icon/add_white.png",Checked:"icon/checked.png",Back:"icon/back.png",Next:"icon/next.png",LikeWhite:"icon/like_white.png",Up:"icon/up.png",UpWhite:"icon/up_white.png",Down:"icon/down.png",DownWhite:"icon/down_white.png"}},g=function(){function e(){Object(c.a)(this,e)}return Object(s.a)(e,null,[{key:"isAvailableUrl",value:function(e){return b.isStringAndNotEmpty(e)?e:v.Image.DefaultImage}}]),e}();function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var _=function(){function e(){Object(c.a)(this,e)}return Object(s.a)(e,null,[{key:"handleItemsList",value:function(e){return e.map(function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(n,!0).forEach(function(t){Object(f.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e.data&&e.data[0],{imageUrl:e.links&&e.links[0].href,isFavorite:!1})})}}]),e}();function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var y=n(49);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var j=n(23),S=n.n(j),I=n(28),w=n(20),k=n.n(w),T={SHOW_ALL:"SHOW_ALL",SHOW_FAVORITE:"SHOW_FAVORITE",SHOW_ASC_DATE:"SHOW_ASC_DATE",SHOW_DESC_DATE:"SHOW_DESC_DATE",SHOW_ASC_TITLE:"SHOW_ASC_TITLE",SHOW_DESC_TITLE:"SHOW_DESC_TITLE"},P=function(e){return{type:"SA_RE_SAVE_ITEMS_LIST",items:e}},D=Object(d.c)({filter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T.SHOW_ALL,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_VISIBILITY_FILTER":return t.filter;default:return e}},items:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SA_RE_SAVE_ITEMS_LIST":return t.items;case"UI_RE_ADD_ITEM":return[].concat(Object(y.a)(e),[Object.assign({},t.item)]);case"UI_RE_REMOVE_ITEM":return e.filter(function(e){return e.id!==t.item.id});case"UI_RE_RESET_ITEMS_LIST":return[];case"UI_RE_EDIT_ITEM":return e.map(function(e){return e.id!==t.item.id?e:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(n,!0).forEach(function(t){Object(f.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{},t.item)});default:return e}},searchItems:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SAVE_SEARCH_ITEMS_LIST":return _.handleItemsList(t.items);case"UI_RE_RESET_ITEMS_LIST":return[];case"UI_RE_REMOVE_ITEM":return e.map(function(e){return e.id===t.item.id?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(n,!0).forEach(function(t){Object(f.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t.item,{isAdded:!1,isFavorite:!1}):e});default:return e}}}),A=[];A.push(h.a);var N=Object(d.d)(D,d.a.apply(void 0,A)),F=n(1),x=n(47),L=n(18),U=n(9),R=(n(16),n(42)),W=n(21),H=(n(79),function(e){var t=e.onClick,n=e.btnClassName,a=e.iconClassName,o=e.children,i=e.imageUrl,c=Object(U.a)(e,["onClick","btnClassName","iconClassName","children","imageUrl"]);return r.a.createElement("button",Object.assign({className:"button ".concat(n),onClick:Object(W.throttle)(t,350)},c),i&&r.a.createElement("img",{src:i,className:a,alt:""}),o)});H.defaultProps={btnClassName:"",imageUrl:"",onClick:function(){},iconClassName:"",disabled:!1};var M=H,V=function(e){var t=e.inputClassName,n=e.onChange,a=e.onKeyDown,o=Object(U.a)(e,["inputClassName","onChange","onKeyDown"]);return r.a.createElement("input",Object.assign({className:"text-input ".concat(t),onChange:n,onKeyDown:a},o))};V.defaultProps={inputClassName:"",onChange:function(){},onKeyDown:function(){}};var B=V,K=(n(80),function(e){var t=e.loaderClassName;return r.a.createElement("div",{className:"loader ".concat(t)})}),Y=(n(81),function(e){var t=e.isVisible,n=e.children,a=e.popupClassName,o=Object(U.a)(e,["isVisible","children","popupClassName"]);return r.a.createElement("div",Object.assign({className:t?"popup ".concat(a):"invisible"},o),n)});Y.defaultProps={isVisible:!1};var G=Y,J=function(e){var t=e.inputClassName,n=e.onChange,a=e.onKeyDown,o=Object(U.a)(e,["inputClassName","onChange","onKeyDown"]);return r.a.createElement("textarea",Object.assign({className:"text-input ".concat(t),onChange:n,onKeyDown:a},o))};J.defaultProps={name:"",placeholder:"",inputClassName:"",onChange:function(){},onKeyDown:function(){}};var q=J,z=(n(82),function(e){var t=e.options,n=e.onChange,a=Object(U.a)(e,["options","onChange"]);return r.a.createElement("select",Object.assign({className:"select",onChange:n},a),t&&t.map(function(e,t){return r.a.createElement("option",{key:t.toString(),value:e.value,className:"option"},e.name)}))});z.defaultProps={options:[],onChange:function(){}};var $=z,Q=(n(83),Object(a.lazy)(function(){return Promise.resolve().then(n.bind(null,42))})),X=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e)))._toggleFavorite=n._toggleFavorite.bind(Object(F.a)(n)),n._onRemovePress=n._onRemovePress.bind(Object(F.a)(n)),n._onEditPress=n._onEditPress.bind(Object(F.a)(n)),n._onAddPress=n._onAddPress.bind(Object(F.a)(n)),n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"_toggleFavorite",value:function(){var e=this.props,t=e.data;(0,e.onToggleFavoriteItem)(t)}},{key:"_onRemovePress",value:function(){var e=this.props,t=e.data;(0,e.onRemoveItem)(t)}},{key:"_onAddPress",value:function(){var e=this.props,t=e.data,n=e.onAddItem;t.id=Date.now().toString(),n(t)}},{key:"_onEditPress",value:function(){var e=this.props,t=e.data;(0,e.onEditItem)(t)}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.index,o=e.onAddItem;return r.a.createElement("div",{className:"item-container",key:n.toString()},r.a.createElement(a.Suspense,{fallback:r.a.createElement("div",null,"Loading...")},r.a.createElement(Q,{src:g.isAvailableUrl(t.imageUrl),imgClassName:"shadow-item img-container"})),r.a.createElement("div",{className:"info-container"},r.a.createElement("p",null,t.center),r.a.createElement("p",null,b.getDateFormat(t.date_created))),r.a.createElement("h2",null,t.title),r.a.createElement("div",{className:"multiline-text txt-content"},t.description),o?r.a.createElement(M,{imageUrl:t.isAdded?v.Image.Checked:v.Image.Add,btnClassName:t.isAdded?"button-added":"button-add",onClick:this._onAddPress,iconClassName:"icon-add",disabled:t.isAdded},r.a.createElement("p",null,t.isAdded?"Added":"Add to collection")):r.a.createElement("div",{className:"button-container"},r.a.createElement(M,{imageUrl:t.isFavorite?v.Image.ActiveFavorite:v.Image.Favorite,onClick:this._toggleFavorite}),r.a.createElement(M,{imageUrl:v.Image.Edit,btnClassName:"button-edit",onClick:this._onEditPress}),r.a.createElement(M,{imageUrl:v.Image.Delete,onClick:this._onRemovePress})))}}]),t}(a.Component);X.defaultTypes={onEditItem:function(){},onRemoveItem:function(){},onAddItem:function(){},onToggleFavoriteItem:function(){},isFavorite:!1,index:0};var Z=X,ee=(n(84),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={searchKey:""},n._onTextChange=n._onTextChange.bind(Object(F.a)(n)),n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"_onTextChange",value:function(e){this.setState({searchKey:e.target.value}),this.props.onTextChange&&this.props.onTextChange(e.target.value),13===e.keyCode&&this.props.onPressSearch(this.state.searchKey)}},{key:"render",value:function(){var e=this.props.onPressSearch,t=this.state.searchKey;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"search-container"},r.a.createElement(B,{name:"searchKey",inputClassName:"input",placeholder:"Enter something",onChange:this._onTextChange,onKeyDown:this._onTextChange}),r.a.createElement(M,{imageUrl:v.Image.Search,onClick:function(){return e(t)}})))}}]),t}(a.Component));ee.defaultTypes={onPressSearch:function(){},onTextChange:function(){}};var te=ee,ne=n(43),ae=(n(86),[{value:0,name:"Choose sort type"},{value:1,name:"Date"},{value:2,name:"Title"}]),re=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={showFavorite:!1,sortOption:"",sortType:ae[0],error:""},n._toggleMyFavorite=n._toggleMyFavorite.bind(Object(F.a)(n)),n._onOptionChange=n._onOptionChange.bind(Object(F.a)(n)),n._onTypeChange=n._onTypeChange.bind(Object(F.a)(n)),n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"_toggleMyFavorite",value:function(){this.setState({showFavorite:!this.state.showFavorite});var e=this.state.showFavorite;this.props.onShowFavorite(!e)}},{key:"_onOptionChange",value:function(e){0!==this.state.sortType.value?(this.setState({sortOption:e,error:"",showFavorite:!1}),this.props.onOptionChange(this.state.sortType,e)):this.setState({sortOption:"",error:"Choose sort type first"})}},{key:"_onTypeChange",value:function(e){this.setState({sortType:ae[Number(e.target.value)],sortOption:"0"===e.target.value?"":this.state.sortOption}),this.forceUpdate()}},{key:"render",value:function(){var e=this,t=this.state,n=t.showFavorite,a=t.sortOption,o=t.error;return r.a.createElement("div",{className:"option-container"},r.a.createElement(M,{btnClassName:"button-favorite ".concat(n?"btn-show":"btn-hide"),imageUrl:n?v.Image.LikeWhite:v.Image.Favorite,onClick:this._toggleMyFavorite},r.a.createElement("p",null,"My Favorite")),r.a.createElement($,{options:ae,onChange:this._onTypeChange}),r.a.createElement(M,{imageUrl:"up"===a?v.Image.UpWhite:v.Image.Up,btnClassName:"button-up ".concat("up"===a?"button-active":null),onClick:function(){return e._onOptionChange("up")}}),r.a.createElement(M,{imageUrl:"down"===a?v.Image.DownWhite:v.Image.Down,btnClassName:"down"===a?"button-active":null,onClick:function(){return e._onOptionChange("down")}}),o&&r.a.createElement("div",{className:"text-error"},o))}}]),t}(a.Component);re.defaultTypes={onShowFavorite:function(){},onOptionChange:function(){}};var oe=re,ie=(n(87),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={isVisible:!1},n.open=n.open.bind(Object(F.a)(n)),n.close=n.close.bind(Object(F.a)(n)),n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"open",value:function(){this.setState({isVisible:!0})}},{key:"close",value:function(){this.setState({isVisible:!1})}},{key:"render",value:function(){var e=this.props,t=e.content,n=e.icon,a=e.onYesPress,o=e.showButton,i=this.state.isVisible;return r.a.createElement(G,{popupClassName:"common-popup",isVisible:i},n&&r.a.createElement(R.default,{src:n,imgClassName:"icon"}),r.a.createElement("div",{className:"text-content"},t),o&&r.a.createElement("div",{className:"button-container btn-container"},r.a.createElement(M,{btnClassName:"button-popup button-yes",onClick:a},r.a.createElement("p",null,"Confirm")),r.a.createElement(M,{btnClassName:"button-popup button-no",onClick:this.close},r.a.createElement("p",null,"Cancel"))))}}]),t}(a.Component));ie.defaultTypes={content:"",showButton:!1};var ce=ie;n(88);function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var le=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={isVisible:!1,selectedData:null,image:"",title:"",center:"",description:""},n._selectedData=null,n.open=n.open.bind(Object(F.a)(n)),n.close=n.close.bind(Object(F.a)(n)),n._onTextChange=n._onTextChange.bind(Object(F.a)(n)),n._onSavePress=n._onSavePress.bind(Object(F.a)(n)),n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"open",value:function(e){this._selectedData=e,this.setState({isVisible:!0,image:e.imageUrl,title:e.title,center:e.center,description:e.description})}},{key:"close",value:function(){this._selectedData=null,this.setState({isVisible:!1,image:"",title:"",center:"",description:""})}},{key:"_onTextChange",value:function(e){var t=this.state;t[e.target.name]=e.target.value,this.setState(t)}},{key:"_onSavePress",value:function(){var e=this.state,t=e.image,n=e.title,a=e.center,r=e.description;if(this._selectedData){var o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(n,!0).forEach(function(t){Object(f.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},this._selectedData,{title:n,center:a,description:r,imageUrl:t});this.props.onYesPress(o),this.close()}}},{key:"render",value:function(){var e=this.state,t=e.isVisible,n=e.image,a=e.title,o=e.center,i=e.description,c=e.error;return r.a.createElement(G,{popupClassName:"form-popup",isVisible:t},r.a.createElement("h2",null,"Edit item"),c&&r.a.createElement("p",null,"Please fill all fields"),r.a.createElement("div",{className:"input-container"},r.a.createElement("p",null,"Title"),r.a.createElement(B,{name:"title",inputClassName:"input-form",value:a,onChange:this._onTextChange,placeholder:"Enter title"})),r.a.createElement("div",{className:"input-container"},r.a.createElement("p",null,"Thumbnail image"),r.a.createElement(B,{name:"image",inputClassName:"input-form",value:n,onChange:this._onTextChange,placeholder:"Enter image url"})),r.a.createElement("div",{className:"input-container"},r.a.createElement("p",null,"Center name"),r.a.createElement(B,{type:"text",name:"center",inputClassName:"input-form",value:o,onChange:this._onTextChange,placeholder:"Enter center name"})),r.a.createElement("div",{className:"input-container"},r.a.createElement("p",null,"Description"),r.a.createElement(q,{name:"description",inputClassName:"input-form textarea-form",value:i,onChange:this._onTextChange,placeholder:"Enter description"})),r.a.createElement("div",{className:"button-container"},r.a.createElement(M,{imageUrl:v.Image.Save,btnClassName:"button-save",onClick:this._onSavePress},r.a.createElement("p",null,"Save")),r.a.createElement(M,{btnClassName:"button-close",imageUrl:v.Image.Close,onClick:this.close})))}}]),t}(a.Component);le.defaultTypes={onYesPress:function(){}};var ue,pe=le;var me={setHistory:function(e){ue=e},navigate:function(e,t){var n="/".concat(e);ue.location.pathname!==n&&ue.push(n,t)},goBack:function(){ue.goBack()}},de=n(46),he=Object(de.a)([function(e){return e.filter},function(e){return e.items}],function(e,t){switch(e){case T.SHOW_ALL:return t;case T.SHOW_FAVORITE:return t.filter(function(e){return e.isFavorite});case T.SHOW_ASC_DATE:return Object(W.orderBy)(t,function(e){return e.date_created},"asc");case T.SHOW_DESC_DATE:return Object(W.orderBy)(t,function(e){return e.date_created},"desc");case T.SHOW_ASC_TITLE:return Object(W.orderBy)(t,function(e){return e.title},"asc");case T.SHOW_DESC_TITLE:return Object(W.orderBy)(t,function(e){return e.title},"desc");default:return t}});n(89);function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var be=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={selectedData:{},filteredData:e.items||[],isShowFavorite:!1,query:""},me.setHistory(e.history),n._items=N.getState().items,n._onStoreChange=n._onStoreChange.bind(Object(F.a)(n)),n._removeItem=n._removeItem.bind(Object(F.a)(n)),n._editItem=n._editItem.bind(Object(F.a)(n)),n._openRemovePopup=n._openRemovePopup.bind(Object(F.a)(n)),n._openEditPopup=n._openEditPopup.bind(Object(F.a)(n)),n._toggleFavorite=n._toggleFavorite.bind(Object(F.a)(n)),n._onTextChange=n._onTextChange.bind(Object(F.a)(n)),n._onShowFavorite=n._onShowFavorite.bind(Object(F.a)(n)),n._onOptionChange=n._onOptionChange.bind(Object(F.a)(n)),n.renderItem=n.renderItem.bind(Object(F.a)(n)),n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.unsubscribe=N.subscribe(this._onStoreChange)}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"_onStoreChange",value:function(){var e,t=N.getState().items;t&&(this._item=t,e=this.state.isShowFavorite?t.filter(function(e){return e.isFavorite}):t,this.setState({filteredData:e}))}},{key:"_openRemovePopup",value:function(e){this.setState({selectedData:e}),this._removePopup.open()}},{key:"_removeItem",value:function(){var e=this.props.removeItem,t=this.state.selectedData;this._removePopup.close(),e(t),this.setState({selectedData:{}})}},{key:"_openEditPopup",value:function(e){this.setState({selectedData:e}),this._editPopup.open(e)}},{key:"_editItem",value:function(e){this.props.editItem(e),this.setState({selectedData:{}})}},{key:"_toggleFavorite",value:function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(n,!0).forEach(function(t){Object(f.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{isFavorite:!e.isFavorite});this.props.editItem(t)}},{key:"_onTextChange",value:function(e){var t=this.props.items.filter(function(t){return""===e||b.checkAutoComplete(t.title.toLowerCase(),e.toLowerCase())||b.checkAutoComplete(t.description.toLowerCase(),e.toLowerCase())});this.setState({query:e,filteredData:t})}},{key:"_onOptionChange",value:function(e,t){var n,a=this.props.filterItems;switch(e.value){case 0:n="";break;case 1:n="DATE";break;case 2:n="TITLE";break;default:n=""}a(n&&t?"up"===t?T["SHOW_ASC_".concat(n)]:T["SHOW_DESC_".concat(n)]:T.SHOW_ALL)}},{key:"_onShowFavorite",value:function(e){(0,this.props.filterItems)(e?T.SHOW_FAVORITE:T.SHOW_ALL),this.setState({isShowFavorite:e})}},{key:"renderItem",value:function(e,t){return r.a.createElement(Z,{key:t.toString(),index:t,data:e,onRemoveItem:this._openRemovePopup,onEditItem:this._openEditPopup,onToggleFavoriteItem:this._toggleFavorite})}},{key:"render",value:function(){var e=this,t=this.props.filteredItems;return r.a.createElement("div",{className:"app"},r.a.createElement("h1",null,"My NASA Collection"),r.a.createElement(te,{onTextChange:this._onTextChange,onPressSearch:this._onTextChange}),r.a.createElement(oe,{onShowFavorite:this._onShowFavorite,onOptionChange:this._onOptionChange}),r.a.createElement(ne.default,{data:t,renderItem:this.renderItem}),r.a.createElement(pe,{ref:function(t){e._editPopup=t},onYesPress:this._editItem}),r.a.createElement(ce,{ref:function(t){e._removePopup=t},icon:v.Image.Consider,content:"Are you sure you want to delete this item?",showButton:!0,onYesPress:this._removeItem}),r.a.createElement(M,{imageUrl:v.Image.AddWhite,btnClassName:"button-add button-to-search",onClick:function(){return me.navigate("search")}},r.a.createElement("p",null,"Add new item")))}}]),t}(a.Component),ve=Object(m.b)(function(e){return{filteredItems:he(e)}},{removeItem:function(e){return{type:"UI_RE_REMOVE_ITEM",item:e}},editItem:function(e){return{type:"UI_RE_EDIT_ITEM",item:e}},filterItems:function(e){return{type:"SET_VISIBILITY_FILTER",filter:e}}})(be);n(90);function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var Oe=Object(a.lazy)(function(){return Promise.resolve().then(n.bind(null,43))}),_e=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={loading:!1},me.setHistory(e.history),n._onPressSearch=n._onPressSearch.bind(Object(F.a)(n)),n._onAddItem=n._onAddItem.bind(Object(F.a)(n)),n._handleGetListCallback=n._handleGetListCallback.bind(Object(F.a)(n)),n.renderItem=n.renderItem.bind(Object(F.a)(n)),n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"_onPressSearch",value:function(e){e&&(this.props.getItemsList(e,this._handleGetListCallback),this.setState({loading:!0}))}},{key:"_handleGetListCallback",value:function(e){this.setState({loading:!1})}},{key:"_onAddItem",value:function(e){var t=this.props.addItem,n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(n,!0).forEach(function(t){Object(f.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{isAdded:!0});Object.assign(e,n),t(n),this.forceUpdate()}},{key:"renderItem",value:function(e,t){return r.a.createElement(Z,{key:t.toString(),index:t,data:e,onAddItem:this._onAddItem})}},{key:"render",value:function(){var e=this.props.searchItems,t=this.state.loading;return r.a.createElement(a.Suspense,{fallback:r.a.createElement(K,{loaderClassName:"loader-container"})},r.a.createElement("div",{className:"app"},r.a.createElement("h1",null,"Search from NASA"),r.a.createElement(te,{onPressSearch:this._onPressSearch}),r.a.createElement(Oe,{data:e,renderItem:this.renderItem}),t&&r.a.createElement(K,{loaderClassName:"loader-container"}),r.a.createElement(M,{imageUrl:v.Image.Back,btnClassName:"button-add button-back",onClick:function(){return me.goBack()}},r.a.createElement("p",null,"Back to list"))))}}]),t}(a.Component),Ee=Object(m.b)(function(e){return{searchItems:e.searchItems,items:e.items}},{addItem:function(e){return{type:"UI_RE_ADD_ITEM",item:e}},getItemsList:function(e,t){return function(){var n=Object(I.a)(S.a.mark(function n(a){var r,o,i,c,s;return S.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a({type:"GET_ITEMS_LIST"}),n.prev=1,n.next=4,k.a.get("search?q=".concat(e));case 4:r=n.sent,o=r.data,a({type:"SAVE_SEARCH_ITEMS_LIST",items:o.collection.items}),t(null),n.next=15;break;case 10:n.prev=10,n.t0=n.catch(1),t("Error"),i=n.t0.response,c=i.status,s=i.data,a({type:"GET_ITEMS_LIST_FAIL",error:{status:c,data:s}});case 15:case"end":return n.stop()}},n,null,[[1,10]])}));return function(e){return n.apply(this,arguments)}}()}})(_e);var ye=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e)))._onStoreChange=n._onStoreChange.bind(Object(F.a)(n)),n.bootstrap(),n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){k.a.defaults.baseURL="https://images-api.nasa.gov/",k.a.defaults.headers.post["Content-Type"]="application/json",k.a.defaults.timeout=1e4,console.log("Axios has been setup"),this.unsubscribe=N.subscribe(this._onStoreChange)}},{key:"bootstrap",value:function(){var e=Object(I.a)(S.a.mark(function e(){var t;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("items");case 2:(t=e.sent)&&N.dispatch(P(JSON.parse(t)));case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"_onStoreChange",value:function(){var e=N.getState().items;e&&localStorage.setItem("items",JSON.stringify(e))}},{key:"render",value:function(){return r.a.createElement(x.a,{basename:"/react-nasa-web-exercise"},r.a.createElement(L.c,null,r.a.createElement(L.a,{path:"/",exact:!0,component:ve}),r.a.createElement(L.a,{path:"/search",component:Ee}),r.a.createElement(L.a,{component:function(){return r.a.createElement("div",null,"404 Not found ")}})))}}]),t}(a.Component),Ce=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(m.a,{store:N},r.a.createElement(ye,null))}}]),t}(a.Component),je=(n(92),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function Se(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}i.a.render(r.a.createElement(Ce,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/react-nasa-web-exercise",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/react-nasa-web-exercise","/service-worker.js");je?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Se(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):Se(t,e)})}}()}},[[50,1,2]]]);
//# sourceMappingURL=main.6d490fdc.chunk.js.map